<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Maxime Parmentier">
    <meta name="description" content="First presentation of the frontend stack used by SVC">
    <title>1. Presentation Backbone</title>


    <!-- STYLES
    - Use framework (and/or reset) for base
    - created initialy using LESSCSS
	-->
    <link rel="stylesheet" type="text/css" href="./assets/css/bootstrap.min.css"/>
    <link rel="stylesheet" type="text/css" href="./assets/css/styles.css"/>


    <!-- JAVASCRIPT
    - Global Variable for the js app
    - Generated by PHP depending on your environment
    - Can be used to cache data
    - Invoke.Env.scripts shows the list of file to be loaded, can be modified in prod, minify, concatenation
    -->
    <script type="text/javascript">
    var Invoke = {
        app: {
            views: {},
            collections: {},
            models: {}
        },
        Env: {
            scripts: {
                vendors: [
                    'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js',
                    './assets/js/vendors/json2.js',
                    './assets/js/vendors/underscore-min.js',
                    './assets/js/vendors/backbone-min.js',
                    './assets/js/vendors/mustache.js',
                    './assets/js/vendors/bootstrap.min.js',
                    './assets/js/vendors/backbone.localStorage-min.js'
                ],
                libs: [
                    './assets/js/libs/utils.js'
                ],
                application: [
                    './assets/js/app/models/link.js',
                    './assets/js/app/collections/links.js',
                    './assets/js/app/views/header.js',
                    './assets/js/app/views/hello.js',
                    './assets/js/app/views/links.js',
                    './assets/js/app/views/link.js',
                    './assets/js/app/router.js'
                ]
            }
        }
    };
    </script>
</head>

<body>

    <!-- CONTAINERS
	- Prepare the different containers that will handle your backbone.js views
	- Separate them by functionality, modules
    -->
    <div id="header-container" class="header-container"></div>
    <div id="hello-container" class="hello-container block">Hello Container</div>
    <div id="links-container" class="links-container block">Links Container</div>


    <!-- Templates
	- Type not recognized by browser so not displayed
	- Render by Mustache with JSON string to replace tag
	- Naming: tpl-[backbone view] 
    -->
    <script type="text/template" id="tpl-link">
		<th>{{title}}</th>
		<th><a href="{{url}}">{{url}}</a></th>
		<th><a class="delete">delete</a></th>
    </script>

    <script type="text/template" id="tpl-header">
    <div class="navbar navbar-fixed-top">
        <div class="navbar-inner">
            <div class="container">
                <a class="brand" href="#hello">Presentation</a>
                <div class="nav-collapse collapse">
                    <ul class="nav">
                        <li><a href="#hello">Hello World!</a></li>
                        <li><a href="#hello/Devs">Hello Devs!</a></li>
                        <li class="divider-vertical"></li>
                        <li><a href="#links">Links</a></li>
                    </ul>
                    <ul class="nav pull-right">
                        <li><a href="#clear">Clear</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    </script>

    <script type="text/template" id="tpl-hello">
    <div class="container">
        <div class="row">
            <div class="span12">
                <div class="hello-content">
                    <div class="page-header"><h2>Hello <span id="hello-name">World</span>!</h2></div>
                    <p>Hello: <input type="text" class="input-medium" id="hello-input"/></p>
                </div>
            </div>
        </div>
    </div>
    </script>

    <script type="text/template" id="tpl-links">
    <div class="container">
        <div class="row">
            <div class="span12">

                <div class="page-header"><h2>Links Manager</h2></div>
				<table id="links-table" class="table table-bordered table-striped">
					<thead>
						<tr>
							<th>Title</th>
							<th>URL</th>
							<th>Action</th>
						</tr>
					</thead>
					<tbody></tbody>
				</table>

                <div class="page-header"><h2>Add a Link</h2></div>
                <form id="links-form" class="form-horizontal">
					<fieldset>
					    <div class="control-group">
						    <label class="control-label" for="title">Title</label>
							<div class="controls"><input type="text" class="input-xlarge" id="links-form-title" name="title"></div>
						</div>
					    <div class="control-group">
						    <label class="control-label" for="url">Url</label>
							<div class="controls"><input type="text" class="input-xlarge" id="links-form-url" name="url"></div>
						</div>
					    <div class="form-actions">
							<button type="submit" class="btn btn-primary">Save</button>
						</div>
					</fieldset>
                </form>
            </div>
        </div>
    </div>
    </script>


    
    <!-- Javascript 
	- Load library using $LAB.js
	- Bootloader is used to start the application
	- At the end of the body to load webpage faster. Content above is static, so will be loaded fast until this point
	-->
    <script type="text/javascript" src="./assets/js/vendors/LAB.min.js"></script>
    <script type="text/javascript" src="./assets/js/app/bootloader.js"></script>

</body>
</html>